!function(t,n){var e={first:!0,last:!0,viewNumber:!0,current:1,viewOpt:[10,20,50,100],limit:10,jump:!0,viewCount:!0},i={init:function(t){var n=t.o,e="";if(n.first&&(e+='<a href="javascript:;" id="yxPagingFirst">首页</a>'),e+='<a href="javascript:;" id="yxPagingPrev">上一页</a><span  id="yxPagingBtns"></span><a href="javascript:;" id="yxPagingNext">下一页</a>',n.last&&(e+='<a href="javascript:;" id="yxPagingLast">尾页</a>'),n.viewNumber){for(var i,a="",r=0,u=n.limit,o="",c=n.viewOpt.length;r<c;r++)i=n.viewOpt[r],o=i===u?"selected":"",a+='<option value="'+i+'"'+o+">"+i+"</option>";e+='<span><label>每页显示</label><select id="yxPagingViewNum">'+a+"</select><label>条</label></span>"}n.jump&&(e+='<span><label>跳转到第</label><input type="text"  id="yxPagingJumpNum"/><label>页</label><button id="yxPagingJumpBtn">go</button></span>'),n.viewCount&&(e+='<span id="yxPagingCount"></span>'),t.$target.html(e),t.$pages=t.$target.find("#yxPagingBtns")},reloadPages:function(t,n,e){var i,a,r,u="",o="",c=t.pageCount,s=t.current;for(e.find("#yxPagingCount").html("共"+c+"页"),r=c>10?8:10,s>=9?(i=s-7,s==c?(i=s-9,r=10):s==c-1&&(i=s-8,r=9)):i=1,a=i+r,c<10&&(a=c+1);i<a;i++)o=i==s?"class='yxPaging_choose'":"",u+='<a href="javascript:;" name="'+i+'" '+o+">"+i+"</a>";c>10&&s!=c-1&&s!=c&&(u+='<a href="javascript:;" class="yxPaging_more" name="more" index="'+i+'">...</a>'),c>10&&s!=c&&(u+='<a href="javascript:;" name="'+c+'">'+c+"</a>"),n.html(u)}},a={init:function(t){var n=t.o;n.xhr?this.xhrReload(t):(n.count=n.data.length,t["static"].start=1,t["static"].end=n.limit,i.init(t),this.reloadListCbk(t)),this.eventBind(t)},operationReady:function(t,n){var e=t.o,i=n||{evnt:"default",type:"default"};t["static"].end=e.current*e.limit,t["static"].end=e.count?t["static"].end<=e.count?t["static"].end:e.count:e.limit,t["static"].start=t["static"].end-e.limit+1,i.start=t["static"].start,i.end=t["static"].end,e.count&&(i.count=e.count),e.current&&(i.current=e.current),e.limit&&(i.limit=e.limit),e.operReady&&e.operReady(i),e.xhr?this.xhrReload(t,i):this.reloadListCbk(t,i)},xhrReload:function(t,e){var a=this,r=t.o;n.ajax(r.xhr).then(function(n){var u=r.xhrSuccess(n);return r.data=u.data,r.count=u.count,!!r.count&&(e||i.init(t),void a.reloadListCbk(t,e))})},reloadListCbk:function(t,n){var e,i=t.o;if(t.reloadPages(),i.xhr)e=i.data;else{e=[];for(var a=t["static"].start;a<t["static"].end;a++)e.push(i.data[a])}i.operFinsh&&i.operFinsh(e)},eventBind:function(t){var e=n(t),i=this,a=t.o,r=function(n,e){i.operationReady(t,e)},u={};e.on("jump",r).on("viewNum",r),a.viewNumber&&t.$target.on("change","#yxPagingViewNum",function(){var t=n(this),i=t.val();a.current=1,a.limit=i,u={evnt:"viewNum",type:"option"},e.trigger("viewNum",[u])}),a.jump&&t.$target.on("click","#yxPagingJumpBtn",function(){var t=n("#yxPagingJumpNum").val();a.current=t||a.current,u={evnt:"jump",type:"target"},e.trigger("jump",[u])}),t.$target.on("click","#yxPagingBtns a",function(){var t=n(this),i=t.attr("name");if("more"===i){var r=t.attr("index");a.current=r,u={evnt:"jump",type:"more"},e.trigger("jump",[u])}else a.current=i,u={evnt:"jump",type:"target"},e.trigger("jump",[u])}).on("click","#yxPagingFirst",function(){a.current=1,u={evnt:"jump",type:"first"},e.trigger("jump",[u])}).on("click","#yxPagingLast",function(){a.current=a.pageCount,u={evnt:"jump",type:"last"},e.trigger("jump",[u])}).on("click","#yxPagingNext",function(){a.current++,a.current>a.pageCount&&(a.current=a.pageCount),u={evnt:"jump",type:"next"},e.trigger("jump",[u])}).on("click","#yxPagingPrev",function(){a.current--,a.current<=0&&(a.current=1),u={evnt:"jump",type:"prev"},e.trigger("jump",[u])})}},r=function(t,i){this.$target=n(t),this.o=n.extend(!0,{},e,i),this["static"]={},a.init(this)};r.prototype={set:function(t){n.extend(!0,this.o,t)},get:function(t){return this.o[t]||this["static"][t]},reloadPages:function(){var t=this.o;t.pageCount=Math.ceil(t.count/t.limit),t.current>t.pageCount&&(t.current=t.pageCount),i.reloadPages(t,this.$pages,this.$target)}},t.YxPaging=t.YxPaging||r}(window,$);